"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1156],{1156:(T,m,i)=>{i.r(m),i.d(m,{HomePageModule:()=>Z});var d=i(8583),p=i(665),o=i(3083),c=i(3318),g=i(4762),e=i(639),h=i(5901),f=i(3071),v=i(5970);function P(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.TgZ(1,"ion-card"),e.TgZ(2,"ion-card-content"),e._UZ(3,"ion-img",5),e.TgZ(4,"ion-button",6),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().edit(a.template_name)}),e._uU(5,"Edit"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-label",7),e._uU(7),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit;e.xp6(3),e.Q6J("src","data:image/png;base64, "+t.template_name),e.xp6(4),e.Oqu(t.image_name)}}const C=[{path:"",component:(()=>{class n{constructor(t,s,l,a,u){this.tokenStorage=t,this.userService=s,this.router=l,this._alertController=a,this._alertService=u}ngOnInit(){this.getTemplates(),this.getUser()}getUser(){let t=this.tokenStorage.DecodeToken();this.username=t.username,this.user_id=t.user_id}edit(t){return(0,g.mG)(this,void 0,void 0,function*(){yield this.userService.checkReferal(this.user_id).subscribe(s=>{this.result=s,null==this.result?this.presentAlertPrompt(t):(this.userService.addImageToStorage(t),this.router.navigate(["/editimage"]))})})}presentAlertPrompt(t){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this._alertController.create({header:"Enter Referal Code",inputs:[{name:"code",type:"number",placeholder:"Referal Code"}],buttons:[{text:"Cancel"},{text:"Ok",handler:l=>{this.userService.assignReferal(this.user_id,l.code).subscribe(a=>{1==a?(this.userService.addImageToStorage(t),this.router.navigate(["/editimage"])):this._alertService.presentToast(a.error,"danger")})}}]})).present()})}getTemplates(){return(0,g.mG)(this,void 0,void 0,function*(){yield this.userService.getTemplate().subscribe(t=>{this.templates=t.template})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.i),e.Y36(f.K),e.Y36(c.F0),e.Y36(o.Br),e.Y36(v.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:11,vars:2,consts:[["slot","start"],["slot","end"],[1,"username"],["class","grid",4,"ngFor","ngForOf"],[1,"grid"],[3,"src"],["color","light",3,"click"],["id","template_name"]],template:function(t,s){1&t&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-buttons",0),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Home"),e.qZA(),e.TgZ(6,"ion-chip",1),e.TgZ(7,"ion-label",2),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"ion-content"),e.YNc(10,P,8,2,"div",3),e.qZA()),2&t&&(e.xp6(8),e.hij("Welcome ",s.username,""),e.xp6(2),e.Q6J("ngForOf",s.templates))},directives:[o.Gu,o.sr,o.Sm,o.fG,o.wd,o.hM,o.Q$,o.W2,d.sg,o.PM,o.FN,o.Xz,o.YG],styles:[".grid[_ngcontent-%COMP%]{margin:1rem;display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.grid[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-self:center}.grid[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{opacity:.6;z-index:1;height:350px}.grid[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{position:absolute;z-index:2;top:50%;left:50%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%)}.grid[_ngcontent-%COMP%]   #template_name[_ngcontent-%COMP%]{text-align:center}ion-title[_ngcontent-%COMP%]{color:#1000aa}ion-label[_ngcontent-%COMP%]{color:#414040}ion-chip[_ngcontent-%COMP%]{padding:1rem;background-color:#d4cbff}ion-chip[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:1rem}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.Bz.forChild(C)],c.Bz]}),n})(),Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.ez,p.u5,o.Pc,M]]}),n})()}}]);