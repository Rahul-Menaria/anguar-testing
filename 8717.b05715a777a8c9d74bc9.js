"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8717],{8717:(C,u,l)=>{l.r(u),l.d(u,{DashboardPageModule:()=>q});var g=l(8583),d=l(665),o=l(3083),c=l(3318),e=l(639),_=l(5901),h=l(7501),m=l(5970);function Z(t,r){if(1&t&&(e.TgZ(0,"ion-select-option",18),e._uU(1),e.qZA()),2&t){const n=r.$implicit;e.s9C("value",n.business_id),e.xp6(1),e.Oqu(n.business_name)}}function p(t,r){if(1&t&&e._UZ(0,"ion-img",19),2&t){const n=e.oxw();e.Q6J("src",n.template_url)}}function b(t,r){if(1&t&&(e.TgZ(0,"ion-select-option",18),e._uU(1),e.qZA()),2&t){const n=r.$implicit;e.s9C("value",n.business_id),e.xp6(1),e.Oqu(n.business_name)}}function f(t,r){if(1&t&&(e.TgZ(0,"ion-select-option",18),e._uU(1),e.qZA()),2&t){const n=r.$implicit;e.s9C("value",n.business_id),e.xp6(1),e.Oqu(n.business_name)}}function T(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"ion-item",20),e.TgZ(1,"ion-chip"),e._uU(2),e.qZA(),e.TgZ(3,"ion-chip"),e._uU(4),e.qZA(),e.TgZ(5,"ion-icon",21),e.NdJ("click",function(){const a=e.CHM(n).$implicit;return e.oxw().deleteReferal(a.id)}),e.qZA(),e.qZA()}if(2&t){const n=r.$implicit;e.xp6(2),e.Oqu(n.code),e.xp6(2),e.Oqu(n.assigned_status)}}const M=[{path:"",component:(()=>{class t{constructor(n,i,s,a){this.tokenStorage=n,this.adminService=i,this.alertService=s,this.router=a}ngOnInit(){this.getCategory(),this.getReferals()}getReferals(){this.adminService.getReferals().subscribe(n=>{this.referals=n})}deleteReferal(n){this.adminService.deleteReferal(n).subscribe(i=>{this.referals=i})}generateReferal(){this.adminService.generateReferal().subscribe(n=>{this.referals=n})}onSelectFile(n){if(n.target.files&&n.target.files[0]){let i=new FileReader;this.template_name=n.target.files[0].name,i.readAsDataURL(n.target.files[0]),i.onload=s=>{this.template_url=s.target.result}}}onSubmit(){this.adminService.addTemplate(this.template_url,this.template_name,this.business_id1,this.image_name).subscribe(n=>{this.alertService.presentToast(n.msg,"success"),this.template_url="",this.image_name="",document.querySelector("ion-input").value="",this.business_id1=null})}addCategory(){this.adminService.addBusiness(this.category).subscribe(n=>{this.alertService.presentToast(n.msg,"success"),this.category=""})}addMessage(){this.adminService.addMessage(1,this.business_id2,this.Message).subscribe(n=>{this.alertService.presentToast(n.msg,"success"),this.Message="",document.querySelector("ion-input").value="",this.business_id2=null})}addService(){this.adminService.addService(1,this.business_id3,this.service).subscribe(n=>{this.alertService.presentToast(n.msg,"success"),this.service="",document.querySelector("ion-input").value="",this.business_id3=null})}getCategory(){this.adminService.getCategory().subscribe(n=>{this.business_category=n.business})}logout(){this.tokenStorage.logout(),this.router.navigateByUrl("/",{replaceUrl:!0})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.i),e.Y36(h.l),e.Y36(m.c),e.Y36(c.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-dashboard"]],decls:78,vars:12,consts:[["slot","end","fill","outline",3,"click"],["name","log-out"],["position","floating"],["type","text","name","category",3,"ngModel","ngModelChange"],[3,"click"],[1,"wrapper"],["name","business_id1",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","image_name",3,"ngModel","ngModelChange"],["type","file","accept","image/*",3,"change"],[3,"src",4,"ngIf"],["name","business_id2",3,"ngModel","ngModelChange"],["type","text","name","Message",3,"ngModel","ngModelChange"],["name","business_id3",3,"ngModel","ngModelChange"],["type","text","name","service",3,"ngModel","ngModelChange"],["id","referal"],["id","header"],["id","content",4,"ngFor","ngForOf"],[3,"value"],[3,"src"],["id","content"],["name","trash","color","danger",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-title"),e._uU(3,"Welcome To Dashboard"),e.qZA(),e.TgZ(4,"ion-button",0),e.NdJ("click",function(){return i.logout()}),e._UZ(5,"ion-icon",1),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-content"),e.TgZ(7,"ion-card"),e.TgZ(8,"ion-card-header"),e._uU(9,"Add Category"),e.qZA(),e.TgZ(10,"ion-card-content"),e.TgZ(11,"ion-item"),e.TgZ(12,"ion-label",2),e._uU(13,"Add Category"),e.qZA(),e.TgZ(14,"ion-input",3),e.NdJ("ngModelChange",function(a){return i.category=a}),e.qZA(),e.qZA(),e.TgZ(15,"ion-button",4),e.NdJ("click",function(){return i.addCategory()}),e._uU(16,"Add"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"ion-card"),e.TgZ(18,"ion-card-header"),e._uU(19,"Add Template"),e.qZA(),e.TgZ(20,"div",5),e.TgZ(21,"ion-item"),e.TgZ(22,"ion-label",2),e._uU(23,"Bussiness Category"),e.qZA(),e.TgZ(24,"ion-select",6),e.NdJ("ngModelChange",function(a){return i.business_id1=a}),e.YNc(25,Z,2,2,"ion-select-option",7),e.qZA(),e.qZA(),e.TgZ(26,"ion-item"),e.TgZ(27,"ion-label",2),e._uU(28,"Template Name"),e.qZA(),e.TgZ(29,"ion-input",8),e.NdJ("ngModelChange",function(a){return i.image_name=a}),e.qZA(),e.qZA(),e.TgZ(30,"ion-input",9),e.NdJ("change",function(a){return i.onSelectFile(a)}),e.qZA(),e.YNc(31,p,1,1,"ion-img",10),e.TgZ(32,"ion-button",4),e.NdJ("click",function(){return i.onSubmit()}),e._uU(33,"Upload"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"ion-card"),e.TgZ(35,"ion-card-header"),e._uU(36,"Add Default Message"),e.qZA(),e.TgZ(37,"ion-card-content"),e.TgZ(38,"ion-item"),e.TgZ(39,"ion-label",2),e._uU(40,"Bussiness Category"),e.qZA(),e.TgZ(41,"ion-select",11),e.NdJ("ngModelChange",function(a){return i.business_id2=a}),e.YNc(42,b,2,2,"ion-select-option",7),e.qZA(),e.qZA(),e.TgZ(43,"ion-item"),e.TgZ(44,"ion-label",2),e._uU(45,"Default Message"),e.qZA(),e.TgZ(46,"ion-input",12),e.NdJ("ngModelChange",function(a){return i.Message=a}),e.qZA(),e.qZA(),e.TgZ(47,"ion-button",4),e.NdJ("click",function(){return i.addMessage()}),e._uU(48,"Add"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"ion-card"),e.TgZ(50,"ion-card-header"),e._uU(51,"Add Default Services"),e.qZA(),e.TgZ(52,"ion-card-content"),e.TgZ(53,"ion-item"),e.TgZ(54,"ion-label",2),e._uU(55,"Bussiness Category"),e.qZA(),e.TgZ(56,"ion-select",13),e.NdJ("ngModelChange",function(a){return i.business_id3=a}),e.YNc(57,f,2,2,"ion-select-option",7),e.qZA(),e.qZA(),e.TgZ(58,"ion-item"),e.TgZ(59,"ion-label",2),e._uU(60,"Default Services"),e.qZA(),e.TgZ(61,"ion-input",14),e.NdJ("ngModelChange",function(a){return i.service=a}),e.qZA(),e.qZA(),e.TgZ(62,"ion-button",4),e.NdJ("click",function(){return i.addService()}),e._uU(63,"Add"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(64,"ion-card",15),e.TgZ(65,"ion-card-header"),e.TgZ(66,"p"),e._uU(67,"Generate Referal"),e.qZA(),e.TgZ(68,"ion-button",4),e.NdJ("click",function(){return i.generateReferal()}),e._uU(69,"Generate Referal"),e.qZA(),e.qZA(),e.TgZ(70,"ion-card-content"),e.TgZ(71,"ion-item",16),e.TgZ(72,"ion-chip"),e.TgZ(73,"ion-label"),e._uU(74,"Referal Code"),e.qZA(),e.TgZ(75,"ion-label"),e._uU(76,"Assigned Status"),e.qZA(),e.qZA(),e.qZA(),e.YNc(77,T,6,2,"ion-item",17),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(14),e.Q6J("ngModel",i.category),e.xp6(10),e.Q6J("ngModel",i.business_id1),e.xp6(1),e.Q6J("ngForOf",i.business_category),e.xp6(4),e.Q6J("ngModel",i.image_name),e.xp6(2),e.Q6J("ngIf",i.template_url),e.xp6(10),e.Q6J("ngModel",i.business_id2),e.xp6(1),e.Q6J("ngForOf",i.business_category),e.xp6(4),e.Q6J("ngModel",i.Message),e.xp6(10),e.Q6J("ngModel",i.business_id3),e.xp6(1),e.Q6J("ngForOf",i.business_category),e.xp6(4),e.Q6J("ngModel",i.service),e.xp6(16),e.Q6J("ngForOf",i.referals))},directives:[o.Gu,o.sr,o.wd,o.YG,o.gu,o.W2,o.PM,o.Zi,o.FN,o.Ie,o.Q$,o.pK,o.j9,d.JJ,d.On,o.t9,o.QI,g.sg,g.O5,o.hM,o.n0,o.Xz],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.4rem}.wrapper[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding:.4rem 0}.wrapper[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{padding:.3rem}#referal[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:.2rem;display:flex;flex-direction:row;justify-content:space-evenly}#referal[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:2rem}#referal[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-evenly}#referal[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   #content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-between}"]}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.Bz.forChild(M)],c.Bz]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.ez,d.u5,o.Pc,A]]}),t})()}}]);