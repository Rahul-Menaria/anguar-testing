{"version":3,"file":"src_app_pages_admin_dashboard_dashboard_module_ts.js","mappings":"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","sources":["./src/app/pages/admin/dashboard/dashboard-routing.module.ts","./src/app/pages/admin/dashboard/dashboard.module.ts","./src/app/pages/admin/dashboard/dashboard.page.ts","./src/app/pages/admin/dashboard/dashboard.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { DashboardPage } from './dashboard.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DashboardPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DashboardPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DashboardPageRoutingModule } from './dashboard-routing.module';\r\n\r\nimport { DashboardPage } from './dashboard.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    DashboardPageRoutingModule\r\n  ],\r\n  declarations: [DashboardPage]\r\n})\r\nexport class DashboardPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { AdminService } from 'src/app/services/admin.service';\r\nimport { AlertService } from 'src/app/services/alert.service';\r\nimport { TokenStorageService } from 'src/app/services/tokenstorage.service';\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.page.html',\r\n  styleUrls: ['./dashboard.page.scss'],\r\n})\r\n\r\nexport class DashboardPage implements OnInit {\r\n\r\n  category: string;\r\n  Message: string;\r\n  service: string;\r\n  business_id1: Number;\r\n  image_name: string;\r\n  business_id2: Number;\r\n  business_id3: Number;\r\n  template_url: any;\r\n  template_name: string;\r\n  business_category: any;\r\n  referals;\r\n  \r\n  constructor(\r\n    private tokenStorage: TokenStorageService,\r\n    private adminService: AdminService,\r\n    private alertService: AlertService, \r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.getCategory();\r\n    this.getReferals();\r\n  }\r\n\r\n  getReferals() {\r\n    this.adminService.getReferals().subscribe(\r\n      data => {\r\n        this.referals = data\r\n      }\r\n    )\r\n  }\r\n\r\n  deleteReferal(val) {\r\n    this.adminService.deleteReferal(val).subscribe(\r\n      data => {\r\n        this.referals = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  generateReferal() {\r\n    this.adminService.generateReferal().subscribe(\r\n      data => {\r\n        this.referals = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  onSelectFile(event) {\r\n    if(event.target.files && event.target.files[0]) {\r\n      let reader = new FileReader();\r\n      this.template_name = event.target.files[0].name;\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      reader.onload = (event) => {\r\n        this.template_url = (event.target.result);\r\n      }\r\n    }\r\n  }\r\n\r\n  onSubmit(){\r\n    this.adminService.addTemplate(this.template_url, this.template_name, this.business_id1, this.image_name).subscribe(\r\n      data => {\r\n        this.alertService.presentToast(data['msg'], 'success');\r\n        this.template_url = ''\r\n        this.image_name = '';\r\n        document.querySelector('ion-input').value=''\r\n        this.business_id1 = null;\r\n      }\r\n    )\r\n  }\r\n\r\n  addCategory() {\r\n    this.adminService.addBusiness(this.category).subscribe(\r\n      data => {\r\n        this.alertService.presentToast(data['msg'], 'success');\r\n        this.category =''\r\n      }\r\n    )\r\n  }\r\n\r\n  addMessage(){\r\n    this.adminService.addMessage(1, this.business_id2, this.Message).subscribe(\r\n      data => {\r\n        this.alertService.presentToast(data['msg'], 'success');\r\n        this.Message =''\r\n        document.querySelector('ion-input').value=''\r\n        this.business_id2 = null;\r\n      }\r\n    )\r\n  }\r\n\r\n  addService() {\r\n    this.adminService.addService(1, this.business_id3, this.service).subscribe(\r\n      data => {\r\n        this.alertService.presentToast(data['msg'], 'success');\r\n        this.service =''\r\n        document.querySelector('ion-input').value=''\r\n        this.business_id3 = null;\r\n      }\r\n    )\r\n  }\r\n\r\n  getCategory() {\r\n    this.adminService.getCategory().subscribe(\r\n      data=> {\r\n        this.business_category = data['business'];\r\n      }\r\n    )\r\n  }\r\n\r\n  logout() {\r\n    this.tokenStorage.logout();\r\n    this.router.navigateByUrl('/', {replaceUrl: true});\r\n  }\r\n}\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Welcome To Dashboard</ion-title>\\r\\n    <ion-button slot=\\\"end\\\" fill=\\\"outline\\\" (click)=\\\"logout()\\\">\\r\\n      <ion-icon name=\\\"log-out\\\"></ion-icon>\\r\\n    </ion-button>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-card>\\r\\n    <ion-card-header>Add Category</ion-card-header>\\r\\n    <ion-card-content>\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Add Category</ion-label>\\r\\n        <ion-input type=\\\"text\\\" name=\\\"category\\\" [(ngModel)]=\\\"category\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-button (click)=\\\"addCategory()\\\">Add</ion-button>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n  \\r\\n  <ion-card>\\r\\n    <ion-card-header>Add Template</ion-card-header>\\r\\n      <div class=\\\"wrapper\\\">\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"floating\\\">Bussiness Category</ion-label>\\r\\n          <ion-select [(ngModel)]=\\\"business_id1\\\" name=\\\"business_id1\\\">\\r\\n            <ion-select-option *ngFor=\\\"let business of business_category\\\" value={{business.business_id}}>{{business.business_name}}</ion-select-option>\\r\\n          </ion-select>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-label position=\\\"floating\\\">Template Name</ion-label>\\r\\n          <ion-input name=\\\"image_name\\\" [(ngModel)]=\\\"image_name\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-input type=\\\"file\\\" (change)=\\\"onSelectFile($event)\\\" accept=\\\"image/*\\\"></ion-input>\\r\\n        <ion-img [src]=\\\"template_url\\\" *ngIf=\\\"template_url\\\"></ion-img>\\r\\n        <ion-button (click)=\\\"onSubmit()\\\">Upload</ion-button>\\r\\n      </div>\\r\\n  </ion-card>\\r\\n  \\r\\n  <ion-card>\\r\\n    <ion-card-header>Add Default Message</ion-card-header>\\r\\n    <ion-card-content>\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Bussiness Category</ion-label>\\r\\n        <ion-select [(ngModel)]=\\\"business_id2\\\" name=\\\"business_id2\\\">\\r\\n          <ion-select-option *ngFor=\\\"let business of business_category\\\" value={{business.business_id}}>{{business.business_name}}</ion-select-option>\\r\\n        </ion-select>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Default Message</ion-label>\\r\\n        <ion-input type=\\\"text\\\" name=\\\"Message\\\" [(ngModel)]=\\\"Message\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-button (click)=\\\"addMessage()\\\">Add</ion-button>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n  \\r\\n  <ion-card>\\r\\n    <ion-card-header>Add Default Services</ion-card-header>\\r\\n    <ion-card-content>\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Bussiness Category</ion-label>\\r\\n        <ion-select [(ngModel)]=\\\"business_id3\\\" name=\\\"business_id3\\\">\\r\\n          <ion-select-option *ngFor=\\\"let business of business_category\\\" value={{business.business_id}}>{{business.business_name}}</ion-select-option>\\r\\n        </ion-select>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\">Default Services</ion-label>\\r\\n        <ion-input type=\\\"text\\\" name=\\\"service\\\" [(ngModel)]=\\\"service\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-button (click)=\\\"addService()\\\">Add</ion-button>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n\\r\\n  <ion-card id=\\\"referal\\\">\\r\\n    <ion-card-header >\\r\\n      <p>Generate Referal</p>\\r\\n      <ion-button (click)=\\\"generateReferal()\\\">Generate Referal</ion-button>\\r\\n    </ion-card-header>\\r\\n    <ion-card-content>\\r\\n      <ion-item id=\\\"header\\\">\\r\\n        <ion-chip>\\r\\n          <ion-label>Referal Code</ion-label>\\r\\n          <ion-label>Assigned Status</ion-label>\\r\\n        </ion-chip>\\r\\n      </ion-item>\\r\\n      <ion-item *ngFor=\\\"let referal of referals\\\" id=\\\"content\\\">\\r\\n        <ion-chip>{{referal.code}}</ion-chip>\\r\\n        <ion-chip>{{referal.assigned_status}}</ion-chip>\\r\\n        <ion-icon name=\\\"trash\\\" color=\\\"danger\\\" (click)=\\\"deleteReferal(referal.id)\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}